"use strict";(self["webpackChunkvue3_nb0"]=self["webpackChunkvue3_nb0"]||[]).push([[755],{50963:(e,t,n)=>{var a=n(70731),r=n(17456),i=n(84839),l=i((function(){return 120!==new Date(16e11).getYear()})),u=r(Date.prototype.getFullYear);a({target:"Date",proto:!0,forced:l},{getYear:function(){return u(this)-1900}})},67755:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var a=n(37298),r=(n(40981),n(87796),n(18788),n(86270),n(24397),n(26641),n(52209),n(50963),n(20692)),i=n(33407),l=n(28554),u=n(98468),o=(n(15098),function(e){return(0,r.dD)("data-v-ae3b8c68"),e=e(),(0,r.Cn)(),e}),s={class:"home_view"},d={class:"projectTitle"},c={class:"home-calendar"},h={class:"header"},v={class:"title"},f={class:"year"},_={class:"month"},y={key:0},p={class:"text"},m={class:"new"},w={class:"old"},g={class:"count_list"},C={class:"index_card_head"},x=o((function(){return(0,r._)("div",{class:"card_head_title"}," 订单 ",-1)})),T={class:"card_head_right"},b={class:"count_item"},W=o((function(){return(0,r._)("div",{class:"count_title"},"订单总数",-1)})),k={class:"count_num"},I={class:"index_card_head"},F=o((function(){return(0,r._)("div",{class:"card_head_title"}," 车位预约 ",-1)})),D={class:"card_head_right"},E={class:"count_item"},Y=o((function(){return(0,r._)("div",{class:"count_title"},"车位预约总数",-1)})),H={class:"count_num"},z={class:"card_list"},j={class:"index_card_head"},A=o((function(){return(0,r._)("div",{class:"card_head_title"}," 美食信息 ",-1)})),O={class:"card_head_right"},Z={class:"card_item"},$=o((function(){return(0,r._)("div",{id:"meishixinxicaipinleixingEchart1",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),q=[$],B={class:"index_card_head"},M=o((function(){return(0,r._)("div",{class:"card_head_title"}," 订单 ",-1)})),S={class:"card_head_right"},L={class:"card_item"},R=o((function(){return(0,r._)("div",{id:"orderstotalEchart1",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),U=[R],K={class:"index_card_head"},N=o((function(){return(0,r._)("div",{class:"card_head_title"}," 订单 ",-1)})),P={class:"card_head_right"},J={class:"card_item"},Q=o((function(){return(0,r._)("div",{id:"orderstotalEchart2",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),V=[Q],X={class:"index_card_head"},G=o((function(){return(0,r._)("div",{class:"card_head_title"}," 订单 ",-1)})),ee={class:"card_head_right"},te={class:"card_item"},ne=o((function(){return(0,r._)("div",{id:"ordersbuynumberEchart3",class:"Echart",style:{width:"100%",height:"400px"}},null,-1)})),ae=[ne];const re={__name:"HomeView",setup:function(e){var t,n=null===(t=(0,r.FN)())||void 0===t?void 0:t.appContext.config.globalProperties,o=n.$project.projectName,$=(0,l.iH)({}),R=function(){$.value.closeordersCountType=!0,$.value.hiddenordersCountType=!0,ue("orders","首页总数")&&ne(),$.value.closecheweiyuyueCountType=!0,$.value.hiddencheweiyuyueCountType=!0,ue("cheweiyuyue","首页总数")&&ie()},Q=(0,l.iH)(0),ne=function(){null===n||void 0===n||n.$http({url:"orders/count",method:"get"}).then((function(e){Q.value=e.data.data}))},re=(0,l.iH)(0),ie=function(){null===n||void 0===n||n.$http({url:"cheweiyuyue/count",method:"get"}).then((function(e){re.value=e.data.data}))},le=function(e){$.value[e]=!$.value[e]},ue=function(e,t){return null===n||void 0===n?void 0:n.$toolUtil.isAuth(e,t)},oe=(0,r.f3)("echarts"),se=function(e){de.value[e]=!de.value[e],setTimeout((function(){ce()}),1e3)},de=(0,l.iH)({closemeishixinxiChartType1:!0,hiddenmeishixinxiChartType1:!0,closeordersChartType1:!0,hiddenordersChartType1:!0,closeordersChartType2:!0,hiddenordersChartType2:!0,closeordersChartType3:!0,hiddenordersChartType3:!0}),ce=function(){ue("meishixinxi","首页统计")&&he(),ue("orders","首页统计")&&ve(),ue("orders","首页统计")&&fe(),ue("orders","首页统计")&&_e()},he=function(){(0,r.Y3)((function(){var e=oe.init(document.getElementById("meishixinxicaipinleixingEchart1"),"theme");null===n||void 0===n||n.$http({url:"meishixinxi/group/caipinleixing",method:"get"}).then((function(t){for(var n=t.data.data,a=[],r=[],i=[],l=0;l<n.length;l++)a.push(n[l].caipinleixing),r.push(parseFloat(n[l].total)),i.push({value:parseFloat(n[l].total),name:n[l].caipinleixing});var u={};u={title:{text:"菜品类型",left:"center"},legend:{orient:"vertical",left:"left"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{left:"30%",type:"pie",radius:"55%",center:["50%","60%"],data:i,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},e.clear(),e.setOption(u),e.resize()}))}))},ve=function(){(0,r.Y3)((function(){var e=oe.init(document.getElementById("orderstotalEchart1"),"theme");null===n||void 0===n||n.$http({url:"orders/value/addtime/total/月",method:"get"}).then((function(t){for(var n=t.data.data,a=[],r=[],i=[],l=0;l<n.length;l++)a.push(n[l].addtime),r.push(parseFloat(n[l].total)),i.push({value:parseFloat(n[l].total),name:n[l].addtime});var u={};u={title:{text:"月销额",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{data:a,type:"category",axisLabel:{interval:0,rotate:30}},yAxis:{type:"value",minInterval:1},series:{data:r,type:"bar"}},e.clear(),e.setOption(u),e.resize()}))}))},fe=function(){(0,r.Y3)((function(){var e=oe.init(document.getElementById("orderstotalEchart2"),"theme");null===n||void 0===n||n.$http({url:"orders/value/addtime/total/年",method:"get"}).then((function(t){for(var n=t.data.data,a=[],r=[],i=[],l=0;l<n.length;l++)a.push(n[l].addtime),r.push(parseFloat(n[l].total)),i.push({value:parseFloat(n[l].total),name:n[l].addtime});var u={};u={grid:{left:"10%",right:"10%",bottom:"10%",containLabel:!0},title:{text:"年销额",left:"center"},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{type:"value",minInterval:1},yAxis:{data:a,type:"category",minInterval:1},series:{data:r,type:"bar"}};var o=u.xAxis;u.xAxis=u.yAxis,u.yAxis=o,e.clear(),e.setOption(u),e.resize()}))}))},_e=function(){(0,r.Y3)((function(){var e=oe.init(document.getElementById("ordersbuynumberEchart3"),"theme");null===n||void 0===n||n.$http({url:"orders/value/goodname/buynumber?order=desc",method:"get"}).then((function(t){for(var n,r=t.data.data,i=[],l=[],u=[],o=0;o<r.length;o++)i.push(r[o].goodname),l.push(parseFloat(r[o].total)),u.push({value:parseFloat(r[o].total),name:r[o].goodname});var s={};s={title:{text:"品销量",left:"center"},legend:{orient:"vertical",left:"left"},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[(n={left:"30%",type:"pie",data:u},(0,a.Z)(n,"type","pie"),(0,a.Z)(n,"radius",["40%","70%"]),(0,a.Z)(n,"avoidLabelOverlap",!1),(0,a.Z)(n,"itemStyle",{borderRadius:10,borderColor:"#fff",borderWidth:2}),(0,a.Z)(n,"label",{show:!1,position:"center"}),(0,a.Z)(n,"emphasis",{label:{show:!0,fontSize:40,fontWeight:"bold"}}),(0,a.Z)(n,"labelLine",{show:!1}),n)]},e.clear(),e.setOption(s),e.resize()}))}))},ye=(0,l.iH)(0),pe=(0,l.iH)(0),me=(0,l.iH)(["一","二","三","四","五","六","日"]),we=(0,l.iH)([]),ge=(0,l.iH)(Solar.fromDate(new Date)),Ce=function(){ye.value=ye.value+1,we.value=We(ye.value,pe.value)},xe=function(){ye.value=ye.value-1,we.value=We(ye.value,pe.value)},Te=function(){pe.value=pe.value+1,pe.value>12&&(pe.value=1,ye.value=ye.value+1),we.value=We(ye.value,pe.value)},be=function(){pe.value=pe.value-1,pe.value<1&&(pe.value=12,ye.value=ye.value-1),we.value=We(ye.value,pe.value)},We=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=SolarMonth.fromYm(e,t),r=[];return a.getWeeks(n).forEach((function(e){var n={index:0,days:[]};n.index=e.getIndexInYear();var a=[];e.getDays().forEach((function(e){a.push(ke(e,t))})),n.days=a,r.push(n)})),r},ke=function(e,t){var n=e.getLunar(),a={day:0,text:"",isFestival:!1,isToday:!1,isOther:!1,isHoliday:!1,isRest:!1};a.day=e.getDay();var r=n.getDayInChinese();1===e.getDay()&&(r=n.getMonthInChinese()+"月");var i=e.getFestivals();i.length>0&&(r=i[0],a.isFestival=!0),i=n.getFestivals(),i.length>0&&(r=i[0],a.isFestival=!0);var l=n.getJieQi();l&&(r=l,a.isFestival=!0),a.text=r,e.toYmd()===ge.value.toYmd()&&(a.isToday=!0),e.getMonth()!==t&&(a.isOther=!0);var u=HolidayUtil.getHoliday(e.getYear(),e.getMonth(),e.getDay());return u&&(a.isHoliday=!0,a.isRest=!u.isWork()),a};ye.value=ge.value.getYear(),pe.value=ge.value.getMonth(),we.value=We(ye.value,pe.value);var Ie=function(){R(),ce()};return Ie(),function(e,t){var n=(0,r.up)("ArrowUpBold"),a=(0,r.up)("el-icon"),R=(0,r.up)("CloseBold"),ne=(0,r.up)("el-collapse-transition"),ie=(0,r.up)("el-card");return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",d,"欢迎使用 "+(0,i.zw)((0,l.SU)(o)),1),(0,r._)("div",c,[(0,r._)("div",h,[(0,r._)("div",{class:"btn lastYear",onClick:xe}," 上一年 "),(0,r._)("div",{class:"btn lastMonth",onClick:be}," 上一月 "),(0,r._)("div",v,[(0,r._)("div",f,(0,i.zw)(ye.value)+"年",1),(0,r._)("div",_,(0,i.zw)(pe.value)+"月",1)]),(0,r._)("div",{class:"btn nextMonth",onClick:Te}," 下一月 "),(0,r._)("div",{class:"btn nextYear",onClick:Ce}," 下一年 ")]),we.value.length?((0,r.wg)(),(0,r.iD)("table",y,[(0,r._)("thead",null,[(0,r._)("tr",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(me.value,(function(e,t){return(0,r.wg)(),(0,r.iD)("th",{key:t},(0,i.zw)(e),1)})),128))])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(we.value,(function(e,t){return(0,r.wg)(),(0,r.iD)("tr",{key:t},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.days,(function(e,t){return(0,r.wg)(),(0,r.iD)("td",{key:t,class:(0,i.C_)({other:e.isOther,festival:e.isFestival,today:e.isToday,rest:e.isRest})},[(0,r._)("div",p,[(0,r._)("div",m,(0,i.zw)(e.day),1),(0,r._)("div",w,(0,i.zw)(e.text),1)])],2)})),128))])})),128))])])):(0,r.kq)("",!0)]),(0,r._)("div",g,[ue("orders","首页总数")?((0,r.wg)(),(0,r.j4)(ne,{key:0},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(ie,{class:"card_view count-item"},{header:(0,r.w5)((function(){return[(0,r._)("div",C,[x,(0,r._)("div",T,[(0,r.Wm)(a,{onClick:t[0]||(t[0]=function(e){return le("hiddenordersCountType")}),class:(0,i.C_)(["showIcons",$.value.hiddenordersCountType?"showIcons1":""])},{default:(0,r.w5)((function(){return[(0,r.Wm)(n)]})),_:1},8,["class"]),(0,r.Wm)(a,{onClick:t[1]||(t[1]=function(e){return le("closeordersCountType")}),class:"closeIcons"},{default:(0,r.w5)((function(){return[(0,r.Wm)(R)]})),_:1})])])]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ne,null,{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",b,[W,(0,r._)("div",k,(0,i.zw)(Q.value),1)],512),[[u.F8,$.value.hiddenordersCountType]])]})),_:1})]})),_:1},512),[[u.F8,$.value.closeordersCountType]])]})),_:1})):(0,r.kq)("",!0),ue("cheweiyuyue","首页总数")?((0,r.wg)(),(0,r.j4)(ne,{key:1},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(ie,{class:"card_view count-item"},{header:(0,r.w5)((function(){return[(0,r._)("div",I,[F,(0,r._)("div",D,[(0,r.Wm)(a,{onClick:t[2]||(t[2]=function(e){return le("hiddencheweiyuyueCountType")}),class:(0,i.C_)(["showIcons",$.value.hiddencheweiyuyueCountType?"showIcons1":""])},{default:(0,r.w5)((function(){return[(0,r.Wm)(n)]})),_:1},8,["class"]),(0,r.Wm)(a,{onClick:t[3]||(t[3]=function(e){return le("closecheweiyuyueCountType")}),class:"closeIcons"},{default:(0,r.w5)((function(){return[(0,r.Wm)(R)]})),_:1})])])]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ne,null,{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",E,[Y,(0,r._)("div",H,(0,i.zw)(re.value),1)],512),[[u.F8,$.value.hiddencheweiyuyueCountType]])]})),_:1})]})),_:1},512),[[u.F8,$.value.closecheweiyuyueCountType]])]})),_:1})):(0,r.kq)("",!0)]),(0,r._)("div",z,[ue("meishixinxi","首页统计")?((0,r.wg)(),(0,r.j4)(ne,{key:0},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(ie,{class:"card_view chart-item"},{header:(0,r.w5)((function(){return[(0,r._)("div",j,[A,(0,r._)("div",O,[(0,r.Wm)(a,{onClick:t[4]||(t[4]=function(e){return se("hiddenmeishixinxiChartType1")}),class:(0,i.C_)(["showIcons",de.value.hiddenmeishixinxiChartType1?"showIcons1":""])},{default:(0,r.w5)((function(){return[(0,r.Wm)(n)]})),_:1},8,["class"]),(0,r.Wm)(a,{onClick:t[5]||(t[5]=function(e){return se("closemeishixinxiChartType1")}),class:"closeIcons"},{default:(0,r.w5)((function(){return[(0,r.Wm)(R)]})),_:1})])])]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ne,null,{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",Z,q,512),[[u.F8,de.value.hiddenmeishixinxiChartType1]])]})),_:1})]})),_:1},512),[[u.F8,de.value.closemeishixinxiChartType1]])]})),_:1})):(0,r.kq)("",!0),ue("orders","首页统计")?((0,r.wg)(),(0,r.j4)(ne,{key:1},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(ie,{class:"card_view chart-item"},{header:(0,r.w5)((function(){return[(0,r._)("div",B,[M,(0,r._)("div",S,[(0,r.Wm)(a,{onClick:t[6]||(t[6]=function(e){return se("hiddenordersChartType1")}),class:(0,i.C_)(["showIcons",de.value.hiddenordersChartType1?"showIcons1":""])},{default:(0,r.w5)((function(){return[(0,r.Wm)(n)]})),_:1},8,["class"]),(0,r.Wm)(a,{onClick:t[7]||(t[7]=function(e){return se("closeordersChartType1")}),class:"closeIcons"},{default:(0,r.w5)((function(){return[(0,r.Wm)(R)]})),_:1})])])]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ne,null,{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",L,U,512),[[u.F8,de.value.hiddenordersChartType1]])]})),_:1})]})),_:1},512),[[u.F8,de.value.closeordersChartType1]])]})),_:1})):(0,r.kq)("",!0),ue("orders","首页统计")?((0,r.wg)(),(0,r.j4)(ne,{key:2},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(ie,{class:"card_view chart-item"},{header:(0,r.w5)((function(){return[(0,r._)("div",K,[N,(0,r._)("div",P,[(0,r.Wm)(a,{onClick:t[8]||(t[8]=function(e){return se("hiddenordersChartType2")}),class:(0,i.C_)(["showIcons",de.value.hiddenordersChartType2?"showIcons2":""])},{default:(0,r.w5)((function(){return[(0,r.Wm)(n)]})),_:1},8,["class"]),(0,r.Wm)(a,{onClick:t[9]||(t[9]=function(e){return se("closeordersChartType2")}),class:"closeIcons"},{default:(0,r.w5)((function(){return[(0,r.Wm)(R)]})),_:1})])])]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ne,null,{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",J,V,512),[[u.F8,de.value.hiddenordersChartType2]])]})),_:1})]})),_:1},512),[[u.F8,de.value.closeordersChartType2]])]})),_:1})):(0,r.kq)("",!0),ue("orders","首页统计")?((0,r.wg)(),(0,r.j4)(ne,{key:3},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(ie,{class:"card_view chart-item"},{header:(0,r.w5)((function(){return[(0,r._)("div",X,[G,(0,r._)("div",ee,[(0,r.Wm)(a,{onClick:t[10]||(t[10]=function(e){return se("hiddenordersChartType3")}),class:(0,i.C_)(["showIcons",de.value.hiddenordersChartType3?"showIcons3":""])},{default:(0,r.w5)((function(){return[(0,r.Wm)(n)]})),_:1},8,["class"]),(0,r.Wm)(a,{onClick:t[11]||(t[11]=function(e){return se("closeordersChartType3")}),class:"closeIcons"},{default:(0,r.w5)((function(){return[(0,r.Wm)(R)]})),_:1})])])]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ne,null,{default:(0,r.w5)((function(){return[(0,r.wy)((0,r._)("div",te,ae,512),[[u.F8,de.value.hiddenordersChartType3]])]})),_:1})]})),_:1},512),[[u.F8,de.value.closeordersChartType3]])]})),_:1})):(0,r.kq)("",!0)])])}}};var ie=n(53005);const le=(0,ie.Z)(re,[["__scopeId","data-v-ae3b8c68"]]),ue=le},37298:(e,t,n)=>{n.d(t,{Z:()=>r});n(9082);var a=n(32967);function r(e,t,n){return t=(0,a.Z)(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}}]);
//# sourceMappingURL=755.06d7d80c.js.map